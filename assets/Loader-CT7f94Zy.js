import{g as t,S as i,t as n,h as d,E as r,i as c,k as l,U as h,l as u,m as T,n as f,A as E,R as _,j as o}from"./index-DCgel0ab.js";async function g(){t.dispatch({type:i});try{const a=t.getState().toyModule.filterBy,{toys:s,pages:e}=await n.query(a);return t.dispatch({type:d,toys:s}),p(e),s}catch(a){throw console.error("Cannot load toys:",a),t.dispatch({type:r,error:a}),a}finally{t.dispatch({type:c,isLoading:!1})}}async function A(a){t.dispatch({type:i});try{const{pages:s}=await n.remove(a);t.dispatch({type:_,toyId:a}),p(s)}catch(s){throw console.error("Cannot remove toy:",s),t.dispatch({type:r,error:s}),s}finally{t.dispatch({type:c,isLoading:!1})}}async function m(a){t.dispatch({type:i});try{const s=a._id?f:E,{savedToy:e,pages:y}=await n.save(a);return t.dispatch({type:s,savedToy:e}),p(y),e}catch(s){throw console.error("Cannot save toy:",s),t.dispatch({type:r,error:s}),s}finally{t.dispatch({type:c,isLoading:!1})}}function v(a){t.dispatch({type:l,filterBy:a})}function L(a){t.dispatch({type:h,page:a})}function O(a){t.dispatch({type:u,pageSize:a})}function p(a){t.dispatch({type:T,pages:a})}function P({isLoading:a,text:s="Loading..."}){return a?o.jsxs("div",{className:"loader-container",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{className:"loader-text",children:s})]}):null}export{P as L,L as a,m as b,g as l,A as r,v as s,O as u};
